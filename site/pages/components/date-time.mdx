import Layout from '../../components/layout';
import Playground from '../../components/playground';
import {Prop} from '../../components/prop';
import {TextBoxSwatch} from '../../components/theming-values/colors';
import {LegacyBlock} from '../../components/legacy-block';
import {CodeFromDefaultPresets} from '../../components/code';

import {DateTime, Link} from 'newskit';

export default Layout;

# Date Time

## Overview

The DateTime component is a styled HTML5 time element for displaying dates, usually publication dates on news articles. You provide a date/time and the desired format setting for displaying the date.
Date parsing is handled by the native [Date object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date).
Date formatting is powered by the [date-fns](https://date-fns.org/v2.6.0/docs/format) library.

## Props

<LegacyBlock marginTop="sizing040">
  <Prop name="date" type="string | number" required>
    Timestamp string of the date to be displayed. Provide this in the ISO8601
    format that is understood by the native{' '}
    <Link href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date">
      Date object
    </Link>
    .
  </Prop>
  <Prop name="dateFormat" type="string">
    Date and time formatting setting. Refer to the{' '}
    <Link href="https://date-fns.org/v2.6.0/docs/format">date-fns docs</Link>{' '}
    for all available settings.
  </Prop>
  <Prop name="prefix" type="string">
    Adds the provided string before the date.
  </Prop>
  <Prop name="suffix" type="string">
    Adds the provided string after the date.
  </Prop>
  <Prop name="overrides" type="object">
    If provided, overrides the respective presets for the component and provided elements.
    <Prop name="stylePreset" type="MQ<string>">
      If provided, this overrides the style preset of the date-time.
    </Prop>
    <Prop name="typographyPreset" type="MQ<string>">
      If provided, this overrides the typography preset of the datetime.
    </Prop>
    <Prop name="prefix" type="object">
      <Prop name="stylePreset" type="MQ<string>">
        If provided, this overrides the style preset applied to the prefix.
      </Prop>
      <Prop name="typographyPreset" type="MQ<string>">
        If provided, this overrides the typography preset of the prefix.
      </Prop>
    </Prop>
    <Prop name="suffix" type="object">
      <Prop name="stylePreset" type="MQ<string>" >
        If provided, this overrides the style preset applied to the suffix.
      </Prop>
      <Prop name="typographyPreset" type="MQ<string>">
        If provided, this overrides the typography preset of the suffix.
      </Prop>
    </Prop>
    Refer to the defaults below for the object structure:
    <CodeFromDefaultPresets componentName="dateTime" />
  </Prop>
</LegacyBlock>

## Playground

<Playground
  componentName="DateTime"
  component={DateTime}
  knobs={[
    {
      name: 'Date',
      propName: 'date',
      value: '2017-07-01T14:32:00.000Z',
    },
    {
      name: 'Date format',
      propName: 'dateFormat',
      value: "MMMM d yyyy, h:mmaaaaa'm'",
    },
    {
      name: 'Date Time Prefix',
      propName: 'prefix',
      value: 'Updated: ',
    },
    {
      name: 'Suffix',
      propName: 'suffix',
      value: 'The Times',
    },
    {
      name: 'Date Time StylePreset',
      propName: 'overrides',
      options: [
        {
          label: 'Default',
          value: {
            stylePreset: undefined,
          },
          isDefault: true,
        },
        {
          label: 'inkBrand010',
          value: {
            stylePreset: 'inkBrand010',
          },
        },
        {
          label: 'linkInline',
          value: {
            stylePreset: 'linkInline',
          },
        },
      ],
    },
    {
      name: 'Date Time TypographyPreset',
      propName: 'overrides',
      options: [
        {
          label: 'Default',
          value: {
            typographyPreset: undefined,
          },
          isDefault: true,
        },
        {
          label: 'utilityMeta010',
          value: {
            typographyPreset: 'utilityMeta010',
          },
        },
        {
          label: 'utilityMeta020',
          value: {
            typographyPreset: 'utilityMeta020',
          },
        },
      ],
    },
    {
      name: 'Prefix StylePreset',
      propName: 'overrides',
      options: [
        {
          label: 'Default',
          value: {
            prefix: {
              stylePreset: undefined,
            },
          },
          isDefault: true,
        },
        {
          label: 'inkBrand010',
          value: {
            prefix: {
              stylePreset: 'inkBrand010',
            },
          },
        },
        {
          label: 'linkInline',
          value: {
            prefix: {
              stylePreset: 'linkInline',
            },
          },
        },
      ],
    },
    {
      name: 'Prefix TypographyPreset',
      propName: 'overrides',
      options: [
        {
          label: 'Default',
          value: {
            prefix: {
              typographyPreset: undefined,
            },
          },
          isDefault: true,
        },
        {
          label: 'utilityMeta010',
          value: {
            prefix: {
              typographyPreset: 'utilityMeta010',
            },
          },
        },
        {
          label: 'utilityMeta020',
          value: {
            prefix: {
              typographyPreset: 'utilityMeta020',
            },
          },
        },
      ],
    },
    {
      name: 'Suffix StylePreset',
      propName: 'overrides',
      options: [
        {
          label: 'Default',
          value: {
            suffix: {
              stylePreset: undefined,
            },
          },
          isDefault: true,
        },
        {
          label: 'inkBrand010',
          value: {
            suffix: {
              stylePreset: 'inkBrand010',
            },
          },
        },
        {
          label: 'linkInline',
          value: {
            suffix: {
              stylePreset: 'linkInline',
            },
          },
        },
      ],
    },
    {
      name: 'Suffix TypographyPreset',
      propName: 'overrides',
      options: [
        {
          label: 'Default',
          value: {
            suffix: {
              typographyPreset: undefined,
            },
          },
          isDefault: true,
        },
        {
          label: 'utilityMeta010',
          value: {
            suffix: {
              typographyPreset: 'utilityMeta010',
            },
          },
        },
        {
          label: 'utilityMeta020',
          value: {
            suffix: {
              typographyPreset: 'utilityMeta020',
            },
          },
        },
      ],
    },
  ]}
/>

For more information on overriding component defaults, see the docs <a href='/theme/theming/component-defaults/'>here</a>.

## Rationale

### Styling

The DateTime was designed to be discreet as it's intended to supplement the primary content.

### Accessibility

The DateTime component is wrapped in a time HTML5 element and the provided `date` prop is passed into its `datetime` attribute to make the displayed date fully accessible.

#### Colour

Text and background colours must have a 3:1 minimum contrast ratio.
Hover states should have clear contrast change or should include a non colour designator.
