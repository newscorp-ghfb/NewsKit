import Layout from '../../components/layout';
import Playground from '../../components/playground';
import {Prop} from '../../components/prop';
import {TextBoxSwatch} from '../../components/theming-values/colors';
import {LegacyBlock} from '../../components/legacy-block';
import {Flag, FlagSize, Sub} from 'newskit';
import {CodeFromDefaultPresets} from '../../components/code';
export default Layout;
import {InverseTheme} from '../../components/inverse-theme';
import {CommonLogicalPropsMDX} from '../../components/component-api/common-logical-props';

# Flag

## Overview

The flag element is used as a way of showing the status of the content.

### Usage

A flag is used to show that a stream is live, or content has been created or updated.

## Props

Flags have a number of props to facilitate a variety of uses:

<LegacyBlock marginTop="sizing040">
  <Prop name="children" type="string" required>
    The content of the Flag is passed as the child of the component.
  </Prop>
  <Prop name="size" type="small | medium | large" default="Small">
    Optional size of the Flag.
  </Prop>
  <Prop name="disabled" type="boolean">
    If true, this will cause the Flag to render the disabled state of the style
    preset.
  </Prop>
  <Prop name="loading" type="boolean" default={false}>
    If true, this will cause the Flag to render the loading state of the style
    preset.
  </Prop>
  <Prop name="overrides" type="object">
    If provided, overrides the respective presets for the component and provided
    elements. Here are the overrides that the Flag accepts:
    <Prop name="spaceInset" type="MQ<string>">
      This property is deprecated. Use the below logical padding props instead.
      If provided, this overrides the padding of the Flag. Otherwise,
      spaceInsetSquish010 or spaceInsetSquish020 is used depending on the `size`
      prop.
    </Prop>
    <Prop name="stylePreset" type="MQ<string>">
      If provided, this overrides the style preset applied to the Flag.
    </Prop>
    <Prop name="typographyPreset" type="MQ<string>">
      If provided, this overrides the typography preset applied to the Flag.
      Otherwise, utilityLabel010 or utilityLabel030 is used depending on the
      `size` prop.
    </Prop>
    <Prop name="spaceInline" type="MQ<string>">
      If provided, this overrides the space between multiple children in the
      underlying Stack. If less than 2 children are passed, this prop is
      irrelevant.
    </Prop>
    <Prop name="iconSize" type="MQ<string>">
      If provided, this overrides the icon size of any child icons. If no icons
      are present in the Flag's children then this prop is irrelevant.
      <br />
      <br />
      <i>
        Note: You can also set the icon size by passing it directly as a size
        prop to the icon, but by doing this you will override the iconSize
        passed from overrides. We discourage this approach but we will keep the
        functionality in case it is needed.
      </i>
    </Prop>
    <Prop name="width" type="MQ<string>">
      If provided, this sets a fixed width to the Flag. This can be a sizing
      token from the theme, or any CSS length value, e.g. 100% for a full-width
      element.
    </Prop>
    <Prop name="height" type="MQ<string>">
      If provided, this sets a fixed height to the Flag. This can be a sizing
      token from the theme, or any CSS length value.
    </Prop>
    <Prop name="minHeight" type="MQ<string>">
      If provided, this sets a minimum height to the Flag. This can be a sizing
      token from the theme, or any CSS length value. By default, sizing050 or
      sizing060 is used depending on the `size` prop.
    </Prop>
    <Prop name="maxHeight" type="MQ<string>">
      If provided, this sets a maximum height to the Flag. This can be a sizing
      token from the theme, or any CSS length value.
    </Prop>
    <Prop name="maxWidth" type="MQ<string>">
      If provided, this sets a maximum width to the Flag. This can be a sizing
      token from the theme, or any CSS length value.
    </Prop>
    <CommonLogicalPropsMDX />
    Refer to the defaults below for the object structure:
    <CodeFromDefaultPresets componentName="flag" />
  </Prop>
</LegacyBlock>

## Playground

<Playground
  componentName={'Flag'}
  component={Flag}
  knobs={[
    {
      name: 'Content',
      propName: 'children',
      value: 'Flag Content',
    },
    {
      name: 'Flag Size',
      propName: 'size',
      options: [
        {
          label: 'Default (Small)',
          value: 'small | medium | large',
          isDefault: true,
        },
      ],
    },
    {
      name: 'Spacing Preset',
      propName: 'overrides',
      options: [
        {
          label: 'Default',
          value: {
            spaceInset: undefined,
          },
          isDefault: true,
        },
        {
          label: 'spaceInsetSquish000',
          value: {
            spaceInset: 'spaceInsetSquish000',
          },
        },
      ],
    },
    {
      name: 'Style Preset',
      propName: 'overrides',
      options: [
        {
          label: 'Default',
          value: {
            stylePreset: undefined,
          },
          isDefault: true,
        },
        {
          label: 'flagSolid',
          value: {
            stylePreset: 'flagSolid',
          },
        },
        {
          label: 'flagMinimal',
          value: {
            stylePreset: 'flagMinimal',
          },
        },
      ],
    },
    {
      name: 'Typography Preset',
      propName: 'overrides',
      options: [
        {
          label: 'Default',
          value: {
            typographyPreset: undefined,
          },
          isDefault: true,
        },
        {
          label: 'utilityLabel010',
          value: {
            typographyPreset: 'utilityLabel010',
          },
        },
        {
          label: 'label020',
          value: {
            typographyPreset: 'label020',
          },
        },
      ],
    },
  ]}
/>

For more information on overriding component defaults, see the docs [here](/theme/theming/component-defaults/).

## Variations

NewsKit provides six types of predefined style preset flags variants.

### Types

| StylePreset   |                              Flag                              |
| ------------- | :------------------------------------------------------------: |
| flagSolid     |   <Flag overrides={{stylePreset: 'flagSolid'}}> Text </Flag>   |
| flagSolidLive | <Flag overrides={{stylePreset: 'flagSolidLive'}}> Text </Flag> |
| flagMinimal   |  <Flag overrides={{stylePreset: 'flagMinimal'}}> Text </Flag>  |

Inverse presets

<InverseTheme>

| StylePreset          |                                                Flag                                                |
| -------------------- | :------------------------------------------------------------------------------------------------: |
| flagSolidInverse     |   <InverseTheme><Flag overrides={{stylePreset: 'flagSolidInverse'}}> Text </Flag></InverseTheme>   |
| flagSolidLiveInverse | <InverseTheme><Flag overrides={{stylePreset: 'flagSolidLiveInverse'}}> Text </Flag></InverseTheme> |
| flagMinimalInverse   |  <InverseTheme><Flag overrides={{stylePreset: 'flagMinimalInverse'}}> Text </Flag></InverseTheme>  |

</InverseTheme>

## Rationale

### Styling

Flags are designed to be compact and discreet as they are intended to supplement the primary content.

### Accessibility

#### Colour

Text and background colours must have a 3:1 minimum contrast ratio.
Hover states should have clear contrast change or should include a non colour designator.
